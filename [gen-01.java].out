.CODE
PUSH lblMetMain@Init
CALL
HALT
simple_heap_init: RET 0 ; Retorna inmediatamenete
simple_malloc: LOADFP ; Inicializacion unidad
LOADSP
STOREFP ;Finaliza inicializacion del RA
LOADHL ;hl
DUP ;hl
PUSH 1 ;1
ADD ;hl+1
STORE 4 ;Guarda el resultado(un puntero a base del bloque)
LOAD 3 ;Carga cantidad de celdas a alojar(parametro)
ADD
STOREHL ;Mueve el heap limit (hl)
STOREFP
RET 1 ;Retornaeliminandoelparametro
.DATA
lblVTInit: NOP
.CODE ; Genero los metodos de la clase

lblMetmain@Init:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
PUSH 1234
PUSH lblMetdebugPrint@Object; apila el metodo
CALL ; Llama al metodo en el tope de la pila
FMEM 0
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

lblConstructor@Init:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

.DATA
lblVTObject: NOP
.CODE ; Genero los metodos de la clase

lblMetdebugPrint@Object:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
LOAD 3
IPRINT
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblConstructor@Object:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

.DATA
lblVTString: NOP
.CODE ; Genero los metodos de la clase

lblConstructor@String:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

.DATA
lblVTSystem: NOP
.CODE ; Genero los metodos de la clase

lblMetprintC@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetprintS@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetprintln@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

lblMetprintCln@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetprintSln@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetread@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

lblMetprintB@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetprintIln@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetprintI@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblMetprintBln@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 1

lblConstructor@System:LOADFP ; apila el valor del RA
LOADSP ; apila el valor del registro sp
STOREFP; almacena el tope de la pila en el registro
STOREFP ; Alamcena el topo de la pila en el registro
RET 0

